<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">게시글 상세</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        .post-header {
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        .post-title {font-size: 2em;}
        .post-meta {
            color: #555;
            margin-bottom: 20px;
        }
        .post-content {
            min-height: 200px;
            line-height: 1.6;
        }
        .btn-group {margin-top: 20px;}
        .btn {
            padding: 8px 12px;
            text-decoration: none;
            border-radius: 4px;
            margin-right: 10px;
        }
        .btn-list {
            background-color: #6c757d;
            color: white;
        }
        .btn-edit {
            background-color: #007bff;
            color: white;
        }
        .btn-delete {
            background-color: #dc3545;
            color: white;
            border: none;
            font: inherit;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- 게시글 상세 정보 표시 -->
    <div class="post-header">
        <h1 class="post-title"
            th:text="${post.title}">게시글 제목</h1>
        <div class="post-meta">
            <span th:text="${post.authorNickname}">작성자</span> |
            <span th:text="${#temporals.format(post.modifiedDate, 'yyyy-MM-dd HH:mm')}">작성일</span>
        </div>
    </div>

    <!-- 게시글 내용 (줄바꿈 표시를 위해 <pre> 태그 사용) -->
    <pre class="post-content" th:text="${post.content}">게시글 내용입니다.</pre>

    <div class="btn-group">
        <a th:href="@{/posts}" class="btn btn-list">목록</a>

        <!-- 로그인한 사용자 + 작성자 본인만 수정/삭제 버튼이 보이도록 th:if 추가 -->
        <div style="display: inline;"
             th:if="${session.loginMember != null AND session.loginMember.loginId == post.authorLoginId}">
            <!-- 수정 버튼 (GET) -->
            <a th:href="@{/posts/{id}/edit(id=${post.id})}" class="btn btn-edit">수정</a>

            <!-- 삭제 버튼 (POST) -->
            <form th:action="@{/posts/{id}/delete(id=${post.id})}" method="post" style="display: inline;">
                <button type="submit" class="btn btn-delete"
                        onclick="return confirm('정말로 삭제하시겠습니까?');">삭제</button>
            </form>
        </div>
    </div>
</body>
</html>